<p id="notice"><%= notice %></p>

<h1>Movies</h1>

<%= search_form_for @search, url: search_movies_path, method: :post do |f| %>
  <%= f.condition_fields do |c| %>
    <%= render "condition_fields", f: c %>
  <% end %>
  <p><%= link_to_add_fields "Add Conditions", f, :condition %></p>
  <div class="field">
    Sort:
    <%= f.sort_fields do |s| %>
      <%= s.sort_select %>
    <% end %>
  </div>
  <div class="actions"><%= f.submit "Search" %></div>
<% end %>

<table cellspacing="2" border="1" cellpadding="5" width="600">
  <thead>
    <tr>
      <th><%= sort_link @search, :link, "Link" %></th>
      <th><%= sort_link @search, :title, "Title" %></th>
      <th><%= sort_link @search, :country, "Country" %></th>
      <th><%= sort_link @search, :launch_date, "Launch date" %></th>
      <th><%= sort_link @search, :janre, "Janre" %></th>
      <th><%= sort_link @search, :duration, "Duration" %></th>
      <th><%= sort_link @search, :rank, "Rank" %></th>
      <th><%= sort_link @search, :director, "Director" %></th>
      <th><%= sort_link @search, :cast, "Cast" %></th>
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody>
    <% @movies.each do |movie| %>
      <tr>
        <td><%= movie.link %></td>
        <td><%= movie.title %></td>
        <td><%= movie.country %></td>
        <td><%= movie.launch_date %></td>
        <td><%= movie.janre %></td>
        <td><%= movie.duration %></td>
        <td><%= movie.rank %></td>
        <td><%= movie.director %></td>
        <td><%= movie.cast %></td>
        <td><%= link_to 'Show', movie %></td>
        <td><%= link_to 'Edit', edit_movie_path(movie) %></td>
        <td><%= link_to 'Destroy', movie, method: :delete, data: { confirm: 'Are you sure?' } %></td>
      </tr>
    <% end %>
  </tbody>
</table>

<br>

<%= link_to 'New Movie', new_movie_path %>
